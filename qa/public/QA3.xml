<QA>
−
<users>
−
<user id="277826">
<displayname>sdaau</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>sdaau@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="236455">
<displayname>Fraser Graham</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Fraser Graham@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="69307">
<displayname>anon</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>anon@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="324528">
<displayname>ipeet</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>ipeet@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="354803">
<displayname>ShinTakezou</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>ShinTakezou@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="103167">
<displayname>Ben Voigt</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Ben Voigt@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="366377">
<displayname>Jens Gustedt</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Jens Gustedt@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="67022">
<displayname>bstpierre</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>bstpierre@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="448275">
<displayname>trevor</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>trevor@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="430719">
<displayname>Bart van Ingen Schenau</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Bart van Ingen Schenau@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="20270">
<displayname>Hasturkun</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Hasturkun@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="464709">
<displayname>Frédéric Hamidi</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Frédéric Hamidi@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="371250">
<displayname>ninjalj</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>ninjalj@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="104596">
<displayname>mpe</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>mpe@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="130641">
<displayname>John Ledbetter</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>John Ledbetter@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="239696">
<displayname>Michael Greene</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Michael Greene@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="121112">
<displayname>Fragsworth</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Fragsworth@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="95810">
<displayname>Alex Martelli</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Alex Martelli@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="182668">
<displayname>Pointy</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Pointy@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="71058">
<displayname>Craig Peterson</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Craig Peterson@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="236554">
<displayname>manifest</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>manifest@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="321013">
<displayname>Martin</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Martin@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="237062">
<displayname>ak2</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>ak2@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="146909">
<displayname>rsp2k</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>rsp2k@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="912">
<displayname>jkp</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>jkp@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="118903">
<displayname>Vinay Sajip</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Vinay Sajip@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="141186">
<displayname>jpartogi</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>jpartogi@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="126042">
<displayname>Mark Rushakoff</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Mark Rushakoff@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="176958">
<displayname>whatnick</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>whatnick@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="137317">
<displayname>kaizer.se</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>kaizer.se@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="180174">
<displayname>Kimvais</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Kimvais@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="16363">
<displayname>Mark</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Mark@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="179910">
<displayname>Jerry Coffin</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Jerry Coffin@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="299301">
<displayname>nategoose</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>nategoose@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="388520">
<displayname>Zack</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Zack@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="20862">
<displayname>Ignacio Vazquez-Abrams</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Ignacio Vazquez-Abrams@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="392358">
<displayname>joe</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>joe@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="275455">
<displayname>frankc</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>frankc@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="26428">
<displayname>Dennis Williamson</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Dennis Williamson@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="402528">
<displayname>trevor</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>trevor@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="19563">
<displayname>Charles Bailey</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Charles Bailey@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="406936">
<displayname>zaga</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>zaga@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="105043">
<displayname>second</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>second@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="389146">
<displayname>Karl Bielefeldt</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Karl Bielefeldt@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="86432">
<displayname>masonk</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>masonk@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="324731">
<displayname>lkraider</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>lkraider@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="209744">
<displayname>PP</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>PP@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="224671">
<displayname>KennyTM</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>KennyTM@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="151292">
<displayname>James McNellis</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>James McNellis@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="338803">
<displayname>sje397</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>sje397@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="22985">
<displayname>BatchyX</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>BatchyX@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="202555">
<displayname>Amnon</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>Amnon@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
−
<user id="119280">
<displayname>DVK</displayname>
<age>-1</age>
<ismoderator>false</ismoderator>
<email>DVK@gmail.com</email>
<password>secret</password>
<aboutme/>
<location/>
<website/>
</user>
</users>
−
<questions>
−
<question id="4119991">
<ownerid>277826</ownerid>
<creationdate>1289168092</creationdate>
<lastactivity>1289176685</lastactivity>
−
<body>
<![CDATA[<p>Hi all, </p><p>Lets say I have a script, "<code>myscript.sh</code>", with contents being simply <code>echo $PWD</code>. I'd like to bind somehow this script to a key combo in <code>bash</code> (<code>gnome-terminal</code>) - so that when I press this key combination, the output of "<code>myscript.sh</code>" is inserted ("pasted") at the cursor position in the terminal. </p><p>Apparently, <code>bash</code> history and line manipulation is handled by <a href="http://en.wikipedia.org/wiki/Readline" rel="nofollow">readline</a> - and the references I got for <code>bash</code> keyboard shortcuts, do reference <code>readline</code>: </p><ul><li><a href="http://ss64.com/bash/syntax-keyboard.html" rel="nofollow">bash keyboard shortcuts</a></li><li><a href="http://www.faqs.org/docs/bashman/bashref_93.html" rel="nofollow">Bash Reference Manual: Bindable Readline Commands</a></li></ul><p>I've also seen in <a href="http://www.faqs.org/docs/bashman/bashref_90.html" rel="nofollow">Bash Reference Manual: Readline Init File Syntax</a> that the key bindings for <code>bash</code> can be listed by using <code>bind -p</code> (<em>see <code>help bind</code> [not 'man bind'] for more</em>). So maybe this question would better be titled as "_binding macros to custom keyboard shortcuts in <code>readline</code>" :) But in any case, is what I want possible to do? </p><p>I guess an alternative would be to have the script be something like "<code>pwd | xsel -b</code>", and then I call it on terminal - and I can paste afterwards; but I'd still like a single keyboard shortcut instead, say like Ctrl-Alt-H (which seems to be not used for anything), which will immediately insert/paste script output when pressed. </p><p>Thanks in advance,<br>Cheers!</p><p>&nbsp;<br>EDIT: Just to clarify - here is my use case where I'd like this facility. I'm usually <code>cd</code>'d in a project folder, usually named something like <code>myproject-folder-0012a</code>, which is under revision control by <code>svn</code>. And there is a bunch of these folders. So quite often, I do commits where the first word of the message is the directory name, as in:</p><pre><code>svn ci -m "myproject-folder-0012a: here a commit message"</code></pre><p>But that is what I don't like - first I type 11 characters, which go rather fast: </p><pre><code>svn ci -m "</code></pre><p>And then, I cannot use autocompletion to get the name (i'm inside the folder) - which means I either have to fully type it (<em>no way :)</em>), or I copy paste it from the prompt (which requires selection - press mouse, drag, release mouse; then Ctrl+Shift+C, and then Ctrl+Shift+V, plus any left/right keys if I miss allignment - plus deletions and such if I make the copy wrong). </p><p>Meaning - so much work, just to get the bloody folder name for a bloody commit message :( I'd MUCH rather press something like (say) Ctrl-Alt-H, and have the folder name automatically inserted at cursor position, and be done with it :) </p><p>My suggestion for <code>xsel</code> is only because I could put it into a "global" script - say symlink it as <code>/usr/bin/myscript</code> (<em>and obviously, the contents of the script are <code>echo $(basename $PWD)</code> rather than just <code>pwd</code> for my needs</em>), and then I could do: </p><pre><code>$ myscript       # this puts directory name in clipboard$ svn ci -m "[CTRL+SHIFT+V TO PASTE HERE]myproject-folder-0012a[NOW TYPE]: here a commit message"</code></pre><p>... which sort of makes the workload less, but still - then I have to remember what the script name is, and call it, <strong>before</strong> I type the <code>svn</code> command (and I don't always remember that)... And still - I have to call a command, and then press a key combo; why shouldn't I just press a key combo once, and be done with it ??! :) </p><p>Well, hope this clarifies my problem a bit better .... </p><p>&nbsp;<br>EDIT2: However, another reason why a <code>bash</code> keyboard shortcut would be useful, is that then I could also "paste/insert current directory name" not only in shell commands - but also in terminal programs, say like <code>nano</code> (<em>where it would, arguably, be more difficult to use <code>bash</code> script or function expansion directly</em>).</p>]]>
</body>
−
<title>
Bash: call script with customized keyboard shortcuts?
</title>
<lastedit>1289176685</lastedit>
<acceptedanswer>-1</acceptedanswer>
−
<tags>
<tag id="0">linux</tag>
<tag id="1">bash</tag>
<tag id="2">keyboard-shortcuts</tag>
<tag id="3">readline</tag>
<tag id="4">customize</tag>
</tags>
</question>
−
<question id="4118207">
<ownerid>277826</ownerid>
<creationdate>1289141038</creationdate>
<lastactivity>1289141538</lastactivity>
−
<body>
<![CDATA[<p>OK, this is my problem: </p><p>I use a virtual machine with a debug kernel, so I can connect to a local instance of <code>gdb</code>, and can debug kernel modules. The modules are compiled with debug info on, and this specifies folders where the source of the modules is kept (<a href="http://stackoverflow.com/questions/1579443/instruct-gdb-6-5-to-use-source-embedded-in-object-file">Instruct GDB 6.5 to use source embedded in object file - Stack Overflow</a>). I have the source directories in the same path(s) in both VM and local machine. </p><p>The problem is this - I need to do quite a bit of steps in order to get the module to segfault - and the remote gdb to go into the stack. Then I do a backtrace, and I can see the source files referenced, i.e. </p><pre><code>#0  0xc0132a13 in ?? ()#1  0xc056e551 in ?? ()#2  0xc056e506 in ?? ()#3  0xd8be53f3 in mymodule_func1 (var1=0xd79f9b44, var2=0x0, var3=825269148)    at /media/src/mymodule.h:954#4  0xd8be53d0 in mymodule_func2 (data=3617561412)    at /media/src/mymodule.h:936#5  0xc014fe87 in ?? ()#6  0xc0151478 in ?? ()</code></pre><p>Then I try to do say, <code>list /media/src/mymodule.h:954</code> - and I realize that I have changed stuff on the local version of <code>mymodule.h</code> file!! </p><p>So I undo the changes - but unfortunately, GDB does not see these changes! And, of course, I don't want to restart GDB - because that means I have to restart the VM, and go through the entire procedure in order to get the kernel module to segfault again :( !!</p><p>Then I try to do something like this:</p><pre><code>(gdb) show symbol-reloadingDynamic symbol table reloading multiple times in one run is off.(gdb) set symbol-reloading on(gdb) add-symbol-file ~/mymodule.o 0xd8be4000add symbol table from file "/media/src/mymodule.o" at    .text_addr = 0xd8be4000(y or n) yReading symbols from /media/src/mymodule.o...done.</code></pre><p>... in hope that it will somehow "reload" the source files - but unfortunately, <code>list /media/src/mymodule.h:954</code> shows that it doesn't, nothing is changed - even though <code>gdb</code> <strong>does</strong> recognize that something has changed, as in <code>warning: Source file is more recent than executable.</code>... (<sup><sub>so, for the time being, I have to restart entire VM and <code>gdb</code> as well :( :(  </sub></sup>)</p><p>So my <strong>question</strong> is - is there a command in <code>gdb</code>, that I can use to (re)load / "refresh" source files? (<em>as far as I can see, <code>gdb</code> works only with source <strong>directories</strong>, <a href="http://davis.lbl.gov/Manuals/GDB/gdb_8.html" rel="nofollow">Debugging with GDB: Source</a> - and there is no specific command to "refresh"</em>)</p><p>Thanks in advance,<br>Cheers!</p>]]>
</body>
<title>GDB - 'reload' source files</title>
<lastedit>1289141538</lastedit>
<acceptedanswer>-1</acceptedanswer>
−
<tags>
<tag id="0">gdb</tag>
<tag id="1">linux-kernel</tag>
<tag id="2">source</tag>
<tag id="3">reload</tag>
</tags>
</question>
−
<question id="4036743">
<ownerid>277826</ownerid>
<creationdate>1288206519</creationdate>
<lastactivity>1288207390</lastactivity>
−
<body>
<![CDATA[<p>Hi all, </p><p>Trying to write a Lua script for Scite (something like <a href="http://lua-users.org/wiki/SciteCommentBox" rel="nofollow">lua-users wiki: Scite Comment Box</a>), and when I write the following piece of code:</p><pre><code>fchars = string.sub(line, 1, 3)if fchars == "//" or fchars == "##"   print "got it"end </code></pre><p>... the compilation fails with "<code>attempt to call a string value</code>". </p><p>I have tried different variants, such as:</p><pre><code>assert(ktest = (("//" == fchars) or ("##" == fchars)))</code></pre><p>... and it seems to me that compilation fails when I try to make a 'compound' boolean expression using the <a href="http://www.lua.org/manual/5.0/manual.html#2.5.3" rel="nofollow">logical operator</a> "<code>or</code>". </p><p>&nbsp;</p><p>So, how would I do the above check in Lua? Maybe the C-like syntax as above is not supported at all - and I should use something like <a href="http://www.lua.org/manual/5.1/manual.html#pdf-string.match" rel="nofollow">match</a> instead? </p><p>&nbsp;</p><p>Thanks in advance for any answers,<br>Cheers!</p>]]>
</body>
−
<title>
Scite Lua: string comparison raises "attempt to call a string value"?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>4036877</acceptedanswer>
−
<tags>
<tag id="0">lua</tag>
</tags>
</question>
−
<question id="4025320">
<ownerid>277826</ownerid>
<creationdate>1288107521</creationdate>
<lastactivity>1288202745</lastactivity>
−
<body>
<![CDATA[<p>Hi all, </p><p>I've been working with a userland program <code>writeread.c</code> (referred <a href="http://stackoverflow.com/questions/3701955/serial-port-loopback-duplex-test-in-bash-or-c-process-substitution">here</a>), utilizing the <code>ftdi_sio</code> Linux driver.</p><p>I had worked with the default <code>ftdi_sio</code> that comes with Ubuntu Lucid that I use - and then, as a sanity check, decided to rebuild <code>ftdi_sio</code> from source. I did not want to download the entire kernel source, so I opted for so called "building out-of-tree modules":</p><ul><li><a href="http://www.cyberciti.biz/tips/build-linux-kernel-module-against-installed-kernel-source-tree.html" rel="nofollow">Howto: Build Linux Kernel Module Against Installed Kernel w/o Full Kernel Source Tree</a></li><li><a href="http://kernel-handbook.alioth.debian.org/ch-common-tasks.html#s-common-out-of-tree" rel="nofollow">Debian Linux Kernel Handbook - Common kernel-related tasks: Building out-of-tree kernel modules</a></li><li><a href="http://fedoraproject.org/wiki/Docs/CustomKernel#Building_Only_Kernel_Modules_.28Out_Of_Tree_Modules.29" rel="nofollow">Building a custom kernel - FedoraProject: Building Only Kernel Modules (Out Of Tree Modules)</a></li></ul><p>... which means you can only have installed <code>linux-headers-*</code> packages (instead of having entire <code>linux-source-*</code> installed) - and the respective kernel module source - in order to build a kernel module. </p><p>So, I basically got the following files in a folder:</p><ul><li><a href="http://kernel.ubuntu.com/git?p=ubuntu/ubuntu-lucid.git;a=blob_plain;f=drivers/usb/serial/ftdi_sio.c" rel="nofollow">ftdi_sio.c</a></li><li><a href="http://kernel.ubuntu.com/git?p=ubuntu/ubuntu-lucid.git;a=blob_plain;f=drivers/usb/serial/ftdi_sio.h" rel="nofollow">ftdi_sio.h</a></li><li><a href="http://kernel.ubuntu.com/git?p=ubuntu/ubuntu-lucid.git;a=blob_plain;f=drivers/usb/serial/ftdi_sio_ids.h" rel="nofollow">ftdi_sio_ids.h</a></li><li>Makefile (included below) </li></ul><p>and ran <code>make</code> - and a <code>ftdi_sio.ko</code> kernel objects compiles, which also can be <code>insmod</code>-ed without a problem. </p><p>&nbsp;</p><p>The problem is now here - as long as I work with low speeds (115200 bps), there is <em>no observable difference</em> between: loading the 'vanilla' driver (<em>using <code>sudo modprobe ftdi_sio</code></em>); and loading the newly built driver (<em>using <code>sudo modprobe usbserial; sudo insmod /path/to/ftdi_sio.ko</code></em>) - in respect to the performance of the userland program (<code>writeread.c</code>).</p><p>However, if I try the same at 2000000 bps, then the 'vanilla' driver works fine -  while the build driver causes a <strong>segfault</strong> of the userland program (<code>writeread.c</code>). In particular, this segfault happened at <code>free()</code>-ing memory resources - because the driver would end up reading <em>more</em> bytes from the loopback connection, than it itself would write! However, that in itself is not that relevant for this discussion, because I finally found a way to get the built <code>ftdi_sio</code> to work (<em>Edit: just noticed that a similar procedure is also given in <a href="http://stackoverflow.com/questions/2237871/external-linux-kernel-module-dependencies/2238581#2238581">External Linux kernel module dependencies R#2238581 - Stack Overflow</a></em>): </p><pre><code>$ sudo modprobe -r ftdi_sio # remove 'vanilla' driver from memory ...# build the driver$ cd /path/to/ftdi_sio_2.6.32/$ make clean &amp;&amp; make # check vanilla version$ ls -la /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/ftdi_sio.ko-rw-r--r-- 1 root root 102396 2010-10-17 01:47 /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/ftdi_sio.ko# (re)move the 'vanilla' kernel object$ sudo mv /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/ftdi_sio.ko ~/Desktop/ftdi_sio_orig.ko  # symlink our built version, as if it is the 'vanilla' one$ sudo ln -s /path/to/ftdi_sio_2.6.32/ftdi_sio.ko /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/# check $ ls -la /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/ftdi_sio.kolrwxrwxrwx 1 root root 57 2010-10-26 12:49 /lib/modules/2.6.32-25-generic/kernel/drivers/usb/serial/ftdi_sio.ko -&gt; /path/to/ftdi_sio_2.6.32/ftdi_sio.ko# call depmod$ sudo depmod# !! plug in USB at this point, built driver autoloads;# however, running `writeread.c` will segfault!# !! REBOOT at this point# after reboot:# !! plug in USB at this point, built driver autoloads;# and `writeread.c` runs without segfault</code></pre><p>So, my <strong>question</strong> is: can anyone clarify to me, why - even after running <code>depmod</code> - do I <em>still</em> have to reboot, to have the built driver behave properly? In other words: is there any other command I could call (<em>maybe after <code>depmod</code></em>), so that the driver works properly when it's loaded, <em>without</em> rebooting? </p><p>The reason I'm asking, is that I suspect that upon each recompilation of the kernel module, the symbol table will change - so to ensure that it works properly, I'd have to run <code>depmod</code> and reboot after each time the driver is built - which I think would be kind of tedious :) So, it would be nice to be able to rebuild the kernel module, and use it in the same session - without having to reboot. </p><p>&nbsp;</p><p>Well, thanks in advance for any answers, </p><p>Cheers!!</p><p>&nbsp;</p><p>&nbsp;</p><p>Makefile:</p><pre><code>CONFIG_MODULE_FORCE_UNLOAD=y# flags passed to gcc for compilation - -v:verbose, -H:show include files# KBUILD_CFLAGS += -v# for debugging make itself, use --debug=i in make command for targets# debug build:EXTRA_CFLAGS=-g -O0KVERSION = $(shell uname -r)obj-m += ftdi_sio.oall:    make -C /lib/modules/$(shell uname -r)/build M=$(PWD) modulesclean:    make -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean</code></pre>]]>
</body>
−
<title>
Building out-of-tree kernel modules, depmod - and, why reboot? 
</title>
<lastedit>1288202745</lastedit>
<acceptedanswer>-1</acceptedanswer>
−
<tags>
<tag id="0">linux-kernel</tag>
</tags>
</question>
−
<question id="3999114">
<ownerid>277826</ownerid>
<creationdate>1287766461</creationdate>
<lastactivity>1287781828</lastactivity>
−
<body>
<![CDATA[<p>Hi all, </p><p>Apparently this is almost a duplicate of "<a href="http://stackoverflow.com/questions/1057638/bad-pipe-filedescriptor-when-reading-from-stdin-in-python">Bad pipe filedescriptor when reading from stdin in python - Stack Overflow</a>"; however, I believe this case is slightly more complicated (<em>and it is not Windows specific, as the conclusion of that thread was</em>). </p><p>I'm currently trying to experiment with a simple script in Python: I'd like to supply input to the script - either through command line arguments; or by 'pipe'-ing a string to this script - and have the script show this input string using a <code>curses</code> terminal interface. </p><p>The full script, here called <code>testcurses.py</code>, is given below. The problem is that whenever I try the actual piping, that seems to mess up stdin, and the <code>curses</code> window never shows. Here is a terminal output: </p><pre><code>## CASE 1: THROUGH COMMAND LINE ARGUMENT (arg being stdin):##$ ./testcurses.py -['-'] 1stdout/stdin (obj): &lt;open file '&lt;stdout&gt;', mode 'w' at 0xb77dc078&gt; &lt;open file '&lt;stdin&gt;', mode 'r' at 0xb77dc020&gt;stdout/stdin (fn): 1 0env(TERM): xterm xtermstdin_termios_attr [27906, 5, 1215, 35387, 15, 15, ['\x03', ... '\x00']]stdout_termios_attr [27906, 5, 1215, 35387, 15, 15, ['\x03', ... '\x00']]opening -obj &lt;open file '&lt;stdin&gt;', mode 'r' at 0xb77dc020&gt;TYPING blabla HEREwr TYPING blabla HEREat endbefore curses TYPING blabla HERE## AT THIS POINT:# in this case, curses window is shown, with the text 'TYPING blabla HERE'# ################## CASE 2: THROUGH PIPE#### NOTE I get the same output, even if I try syntax as in SO1057638, like:## python -c "print 'TYPING blabla HERE'" | python testcurses.py -##$ echo "TYPING blabla HERE" | ./testcurses.py -['-'] 1stdout/stdin (obj): &lt;open file '&lt;stdout&gt;', mode 'w' at 0xb774a078&gt; &lt;open file '&lt;stdin&gt;', mode 'r' at 0xb774a020&gt;stdout/stdin (fn): 1 0env(TERM): xterm xtermstdin_termios_attr &lt;class 'termios.error'&gt;::(22, 'Invalid argument')stdout_termios_attr [27906, 5, 1215, 35387, 15, 15, ['\x03', '\x1c', '\x7f', '\x15', '\x04', '\x00', '\x01', '\xff', '\x11', '\x13', '\x1a', '\xff', '\x12', '\x0f', '\x17', '\x16', '\xff', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00', '\x00']]opening -obj &lt;open file '&lt;stdin&gt;', mode 'r' at 0xb774a020&gt;wr TYPING blabla HEREat endbefore curses TYPING blabla HERE## AT THIS POINT:# script simply exits, nothing is shown # ################</code></pre><p>As far as I can see, the issue is: - whenever we pipe strings into the Python script, the Python script loses the reference to the <em>terminal</em> as <code>stdin</code>, and notices that the replaced <code>stdin</code> is not a <code>termios</code> structure anymore - and since <code>stdin</code> is no longer a terminal, <code>curses.initscr()</code> exits immediately without rendering anything. </p><p>So, my <strong>question</strong> is - in brief: can I somehow achieve, that the syntax <code>echo "blabla" | ./testcurses.py -</code> ends up showing the piped string in <code>curses</code>? More specifically: is it possible to retrieve a reference to the calling terminal's <code>stdin</code> from a Python script, even if this script is being "piped" to? </p><p>Thanks in advance for any pointers, </p><p>Cheers! </p><p>&nbsp;</p><p>&nbsp;</p><p>PS: the <code>testcurses.py</code> script:</p><pre><code>#!/usr/bin/env python # http://www.tuxradar.com/content/code-project-build-ncurses-ui-python# http://diveintopython.org/scripts_and_streams/stdin_stdout_stderr.html# http://bytes.com/topic/python/answers/42283-curses-disable-readline-replace-stdin## NOTE: press 'q' to exit curses - Ctrl-C will screw up yer terminal# ./testcurses.py "blabla"                  # works fine (curseswin shows)# ./testcurses.py -                     # works fine, (type, enter, curseswins shows):# echo "blabla" | ./testcurses.py "sdsd"        # fails to raise curses window # # NOTE: when without pipe: termios.tcgetattr(sys.__stdin__.fileno()): [27906, 5, 1215, 35387, 15, 15, ['\x03', # NOTE: when with pipe |   : termios.tcgetattr(sys.__stdin__.fileno()): termios.error: (22, 'Invalid argument') import cursesimport sysimport osimport atexitimport termiosdef openAnything(source):                """URI, filename, or string --&gt; stream    http://diveintopython.org/xml_processing/index.html#kgp.divein    This function lets you define parsers that take any input source    (URL, pathname to local or network file, or actual data as a string)    and deal with it in a uniform manner.  Returned object is guaranteed    to have all the basic stdio read methods (read, readline, readlines).    Just .close() the object when you're done with it.    """    if hasattr(source, "read"):        return source    if source == '-':        import sys        return sys.stdin    # try to open with urllib (if source is http, ftp, or file URL)    import urllib                             try:                                          return urllib.urlopen(source)         except (IOError, OSError):                    pass                                  # try to open with native open function (if source is pathname)    try:                                          return open(source)                   except (IOError, OSError):                    pass                                  # treat source as string    import StringIO                           return StringIO.StringIO(str(source)) def main(argv):    print argv, len(argv)    print "stdout/stdin (obj):", sys.__stdout__, sys.__stdin__     print "stdout/stdin (fn):", sys.__stdout__.fileno(), sys.__stdin__.fileno()    print "env(TERM):", os.environ.get('TERM'), os.environ.get("TERM", "unknown")    stdin_term_attr = 0    stdout_term_attr = 0    try:        stdin_term_attr = termios.tcgetattr(sys.__stdin__.fileno())    except:        stdin_term_attr = "%s::%s" % (sys.exc_info()[0], sys.exc_info()[1])     try:        stdout_term_attr = termios.tcgetattr(sys.__stdout__.fileno())    except:        stdout_term_attr = `sys.exc_info()[0]` + "::" + `sys.exc_info()[1]`     print "stdin_termios_attr", stdin_term_attr    print "stdout_termios_attr", stdout_term_attr    fname = ""    if len(argv):        fname = argv[0]    writetxt = "Python curses in action!"    if fname != "":        print "opening", fname        fobj = openAnything(fname)        print "obj", fobj        writetxt = fobj.readline(100) # max 100 chars read        print "wr", writetxt        fobj.close()        print "at end"    sys.stderr.write("before ")    print "curses", writetxt    try:        myscreen = curses.initscr()        #~ atexit.register(curses.endwin)    except:        print "Unexpected error:", sys.exc_info()[0]    sys.stderr.write("after initscr") # this won't show, even if curseswin runs fine    myscreen.border(0)    myscreen.addstr(12, 25, writetxt)    myscreen.refresh()    myscreen.getch()    #~ curses.endwin()    atexit.register(curses.endwin)    sys.stderr.write("after end") # this won't show, even if curseswin runs fine# run the main function - with arguments passed to script:if __name__ == "__main__":    main(sys.argv[1:])    sys.stderr.write("after main1") # these won't show either, sys.stderr.write("after main2")     #  (.. even if curseswin runs fine ..)</code></pre>]]>
</body>
−
<title>
Linux: Pipe into Python (ncurses) script, stdin and termios
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3999695</acceptedanswer>
−
<tags>
<tag id="0">python</tag>
<tag id="1">linux</tag>
<tag id="2">pipe</tag>
<tag id="3">ncurses</tag>
<tag id="4">termios</tag>
</tags>
</question>
−
<question id="3940973">
<ownerid>277826</ownerid>
<creationdate>1287134690</creationdate>
<lastactivity>1287139603</lastactivity>
−
<body>
<![CDATA[<p>Hi all, </p><p>I'm using the following database:</p><pre><code>CREATE TABLE datas (d_id INTEGER PRIMARY KEY, name_id numeric, countdata numeric);INSERT INTO datas VALUES(1,1,20);  //(NULL,1,20);INSERT INTO datas VALUES(2,1,47);  //(NULL,1,47);INSERT INTO datas VALUES(3,2,36);  //(NULL,2,36);INSERT INTO datas VALUES(4,2,58);  //(NULL,2,58);INSERT INTO datas VALUES(5,2,87);  //(NULL,2,87);CREATE TABLE names (n_id INTEGER PRIMARY KEY, name text);INSERT INTO names VALUES(1,'nameA'); //(NULL,'nameA');INSERT INTO names VALUES(2,'nameB'); //(NULL,'nameB');</code></pre><p>What I would like to do, is to select all values (rows) of <code>names</code> - to which all columns of <code>datas</code> will be appended, for the row where <code>datas</code>.<code>countdata</code> is maximum for <code>n_id</code> (and of course, where <code>name_id = n_id</code>). </p><p>I can somewhat get there with the following query: </p><pre><code>sqlite&gt; .header ONsqlite&gt; SELECT * FROM names AS n1     LEFT OUTER JOIN (        SELECT d_id, name_id, countdata FROM datas AS d1         WHERE d1.countdata IN (            SELECT MAX(countdata) FROM datas             WHERE name_id=1             )         ) AS p1 ON n_id=name_id;n1.n_id|n1.name|p1.d_id|p1.name_id|p1.countdata1|nameA|2|1|472|nameB|||</code></pre><p>... however - obviously - it only works for a single row (the one explicitly set by <code>name_id=1</code>).</p><p>The problem is, the SQL query fails whenever I try to somehow reference the "current" <code>n_id</code>:</p><pre><code>sqlite&gt; SELECT * FROM names AS n1     LEFT OUTER JOIN (        SELECT d_id, name_id, countdata FROM datas AS d1         WHERE d1.countdata IN (            SELECT MAX(countdata) FROM datas             WHERE name_id=n1.n_id             )         ) AS p1 ON n_id=name_id;SQL error: no such column: n1.n_id</code></pre><p>Is there any way of achieving what I want in Sqlite2??</p><p>Thanks in advance, </p><p>Cheers!</p>]]>
</body>
−
<title>
sqlite2: Joining max values per column from another table (subquery reference)?
</title>
<lastedit>1287135332</lastedit>
<acceptedanswer>3941502</acceptedanswer>
−
<tags>
<tag id="0">join</tag>
<tag id="1">subquery</tag>
<tag id="2">max</tag>
<tag id="3">sqlite2</tag>
</tags>
</question>
−
<question id="3921931">
<ownerid>277826</ownerid>
<creationdate>1286958650</creationdate>
<lastactivity>1286974996</lastactivity>
−
<body>
<![CDATA[<p>Hi all, I am using Ubuntu 10.04, and studying programming of kernel objects. </p><p>I have come across some rather complicated structs which I have difficulties reading, so I thought I'd try to find some tool that can help me visualise them. </p><p>Only thing I could find so far is <a href="http://rw4.cs.uni-sb.de/~sander/html/gsvcg1.html" rel="nofollow">VCG</a>, which has a <a href="http://rw4.cs.uni-sb.de/~sander/html/gsvcg6.html" rel="nofollow">C Struct Visualization Example</a>, which looks like this: <img src="http://img404.imageshack.us/img404/9492/structsa.gif" width="500"></p><p>which looks like something I'd like to use. </p><p>First thing, is that the last VCG packaged for Ubuntu is <a href="http://packages.ubuntu.com/hardy/vcg" rel="nofollow">vcg (1.30debian-6) in hardy</a> - but the .deb package can be downloaded and installed in Ubuntu Lucid without problems. </p><p>However, it seems this package is only a VCG <em>viewer</em> (similar to <a href="http://code.google.com/p/vcgviewer/" rel="nofollow">vcgviewer</a>, I'd guess). The <a href="http://code.google.com/p/vcgviewer/" rel="nofollow">vcgviewer</a> page notes:</p><pre><code>To generate compiler graph data with newest gcc compilers use:gcc -g -da -dv -fdump-tree-original-raw -fdump-tree-all-all </code></pre><p>So, apparently I'd have to use those switches along with <code>gcc</code> while compiling, to generate .vcg graph files from the C source. </p><p>The problem, however, is that I'm building a kernel module, which only references the Linux headers - as I try to avoid as much as I can the recompilation of entire kernel. And it seems, as soon as I try to use <code>-fdump-tree-...</code> switches in that context (kernel module), <code>gcc</code> wants to start compiling the rest of the kernel too! (<em>and obviously fails, in both compilation and generation of .vcg graphs - as I don't have the kernel sources, only headers</em>) <br/> <br/></p><p>So my <strong>question</strong> is - is there a tool, that would produce .vcg or .dot graphs of structs - simply using a plain text header file as input? (<em>it would not have to resolve all dependencies - simply those in header files in same directory</em>) </p><p>EDIT: it is actually not that important for me that the backend is .vcg or .dot in particular, I mentioned them just because I've found them so far; any sort of software that would allow similar struct visualization, regardless of backend, is welcome :) <br/> <br/></p><p>PS: Note that if you do not want to use VCG viewers for viewing .vcg graphs, you can convert the .vcg format to a .dot format, and use <code>graphviz</code> instead for the visualisation. What worked for me is to use <a href="http://search.cpan.org/~tels/Graph-Easy/bin/graph-easy" rel="nofollow">graph-easy - search.cpan.org</a> for <code>perl</code> - which first got packaged in Ubuntu with Maverick edition, as <a href="http://packages.ubuntu.com/maverick/all/libgraph-easy-perl" rel="nofollow">libgraph-easy-perl</a> (<em>however, the .deb file can - again - be downloaded and installed without problems in Lucid</em>). <code>libgraph-easy-perl</code> installs a <code>graph-easy</code> script, which then allows to do stuff like:</p><pre><code>graph-easy test.vcg --as_dot | dot -Tpng -o test.vcg.png </code></pre><p>See also "<a href="https://mailman.research.att.com/pipermail/graphviz-interest/2007q2/004327.html" rel="nofollow">[graphviz-interest] VCG files</a>" and "<a href="http://gcc.gnu.org/ml/gcc/2007-03/msg00554.html" rel="nofollow">Diego Novillo - Re: can't find VCG viewer</a>" for another vcg-to-dot script (<em>which, unfortunately, didn't work for me</em>).</p>]]>
</body>
<title>Visualising C structs?</title>
<lastedit>1286964440</lastedit>
<acceptedanswer>-1</acceptedanswer>
−
<tags>
<tag id="0">c</tag>
<tag id="1">linux</tag>
<tag id="2">struct</tag>
<tag id="3">visualization</tag>
</tags>
</question>
−
<question id="3701955">
<ownerid>277826</ownerid>
<creationdate>1284392291</creationdate>
<lastactivity>1284546197</lastactivity>
−
<body>
<![CDATA[<p>Hi all, </p><p>I have a serial device set up as loopback (meaning it will simply echo back any character it receives), and I'd like to measure effective throughput speed. For this, I hoped I could use <code>time</code>, as in</p><pre><code>time bash -c '...'</code></pre><p>where '<code>...</code>' would be some command I could run. </p><p>Now, the first problem is that I want to use the device at 2000000 bps, so I cannot use  <a href="http://man.gnusquad.org/ttylog/section-8/en/" rel="nofollow">ttylog</a> or <a href="http://www.manpagez.com/man/1/screen/" rel="nofollow">screen</a> (they both seem to go up to 115200 bps only). However, working with <code>/dev/ttyUSB0</code> as a file (using file redirection and <code>cat</code>) seems to work fine:</p><pre><code># initialize serial portstty 2000000 -ixon icanon &lt;/dev/ttyUSB0# check settingsstty -a -F /dev/ttyUSB0# in one terminal - read from serial portwhile (true) do cat -A /dev/ttyUSB0 ; done# in other terminal - write to serial portecho "1234567890" &gt; /dev/ttyUSB0# back to first terminal, I now have:# $ while (true) do cat -A /dev/ttyUSB0 ; done# 1234567890$# ...</code></pre><p>Now, I'd like to do something similar - I'd like to <code>cat</code> a file to a serial port, and have the serial port read back - but from a single terminal command (so I could use it as argument to <code>time</code>). </p><p>I thought that I could use a Bash process substitution, to have the "writing" and "reading" part go, sort of, in "parallel" - if I try it with named pipes, it works:</p><pre><code># mkfifo my.pipe # same as below:$ mknod my.pipe p$ comm &lt;(echo -e "test\ntest\ntest\n" &gt; my.pipe) &lt;(cat my.pipe)    test    test    testcomm: file 2 is not in sorted order</code></pre><p>Up there, I'm not using <code>comm</code> for any other purpose, than to (sort of) merge the two processes into a single command (I guess, I could have just as well used <code>echo</code> instead). </p><p>Unfortunately, that trick does not seem to work with a serial port, because when I try it, I sometimes get:</p><pre><code>$ comm &lt;(echo "1234567890" &gt; /dev/ttyUSB0) &lt;(while (true) do cat -A /dev/ttyUSB0 ; done)cat: /dev/ttyUSB0: Invalid argument</code></pre><p>..., however, usually I just get no output whatsoever. This tells me that: either there is no control of which process starts first, and so <code>cat</code> may start reading before the port is ready (however, that doesn't seem to be a problem in the first example above); or in Linux/Bash, you cannot both read and write to a serial port at the same time, and so the "<code>Invalid argument</code>" would occur in those moments when both read and write seem to happen at the same time. </p><p>So my questions are:</p><ul><li>Is there a way to do something like this (<code>cat</code> a file to a serial port configured as loopback; read it back and see how long it takes) only in Bash, without resorting to writing a dedicated C program? </li><li>If I need a dedicated C program, any source examples out there on the net I could use? </li></ul><p>Thanks a lot for any responses, </p><p>Cheers! </p><p>&nbsp;</p><p>EDIT: I am aware that the <code>while</code> loop written above does not exit; that command line was for preliminary testing, and I interrupt it using Ctrl-C. ( <em>I could in principle interrupt it with something like <code>timeout -9 0.1 bash -c 'while (true) do echo AA ; done'</code>, but that would defeat the purpose of <code>time</code>, then :)</em> )</p><p>The reason that <code>while</code> is there, is that for the time being, reading via <code>cat</code> from the device exits immediately; at times, I <em>have</em> set up the device, so that when <code>cat</code> is issued, it in fact blocks and waits for incoming data; but I cannot as of yet figure what's going on (and partially that is why I'm looking for a way to test from the command line). </p><p>In case I didn't use the <code>while</code>, I imagine for timing, I'd use something like:</p><p><code>time bash -c 'comm &lt;(echo "1234567890" &gt; /dev/ttyUSB0) &lt;(cat -A /dev/ttyUSB0)'</code></p><p>... however for this to be working, sort of, assumes that <code>cat -A /dev/ttyUSB0</code> starts first and blocks; then the <code>echo</code> writes to the serial port (and exits); and then <code>cat -A</code> outputs whatever it read from the serial port - and then exits. (<em>And I'm not really sure neither if a serial port can behave this way at all, nor if <code>cat</code> can be made to block and exit arbitrarily like that</em>). </p><p>The exact method really doesn't matter; if at all possible, I'd just like to avoid coding my own C program to do this kind of testing - which is why my primary interest is if it is somehow possible to run such a "full-duplex test" using basic Bash/Linux (i.e. <code>coreutils</code>); (<em>and if not, if there is a ready-made code I can use for something like this</em>). </p>]]>
</body>
−
<title>
Serial port loopback/duplex test, in Bash or C? (process substitution)
</title>
<lastedit>1284406661</lastedit>
<acceptedanswer>3708396</acceptedanswer>
−
<tags>
<tag id="0">c</tag>
<tag id="1">linux</tag>
<tag id="2">bash</tag>
<tag id="3">serial</tag>
<tag id="4">loopback</tag>
</tags>
</question>
−
<question id="3430445">
<ownerid>277826</ownerid>
<creationdate>1281184519</creationdate>
<lastactivity>1281252071</lastactivity>
−
<body>
<![CDATA[<p>Hi all, </p><p>I'm having this file as <code>data.dat</code>:</p><pre><code>Xstep Y1 Y2 Y3 Y4332 1.22 0.00 0.00 1.43336 5.95 12.03 6.11 10.41340 81.05 81.82 81.92 81.05394 11.76 6.16 10.46 5.87398 0.00 0.00 1.51 1.251036 0.03 0.00 0.00 0.00</code></pre><p>I can plot this data as histogram with this script, <code>hist-v1.gplot</code> (using <code>set style data histogram</code>): </p><pre><code>set xlabel "X values"set ylabel "Occurence"set style data histogramset style histogram cluster gap 1set style fill solid border -1set term pngset output 'hist-v1.png'set boxwidth 0.9# attempt to set xtics so they are positioned numerically on x axis:set xtics ("332" 332, "336" 336, "340" 340, "394" 394, "398" 398, "1036" 1036)  # ti col reads the first entry of the column, uses it as title name plot 'data.dat' using 2:xtic(1) ti col,  '' u 3 ti col, '' u 4 ti col, '' u 5 ti col</code></pre><p>And by calling:</p><pre><code>gnuplot hist-v1.gplot &amp;&amp; eog hist-v1.png</code></pre><p>this image is generated:<img src="http://img202.imageshack.us/img202/3974/histv1.png" alt="image hist-v1.png"></p><p>However, you can notice that the X axis is not scaled numerically - it understands the X values as categories (i.e. it is a category axis).</p><p>I can get a more numerical X axis with the following script, <code>hist-v2.gplot</code> (using <code>with boxes</code>): </p><pre><code>set xlabel "X values"set ylabel "Occurence"# in this case, histogram commands have no effectset style data histogramset style histogram cluster gap 1set style fill solid border -1set term pngset output 'hist-v2.png'set boxwidth 0.9set xr [330:400]# here, setting xtics makes them positioned numerically on x axis:set xtics ("332" 332, "336" 336, "340" 340, "394" 394, "398" 398, "1036" 1036)  # 1:2 will ONLY work with proper xr; since we have x&gt;300; xr[0:10] generates "points y value undefined"!plot 'data.dat' using 1:2 ti col smooth frequency with boxes, '' u 1:3 ti col smooth frequency with boxes</code></pre><p>And by calling:</p><pre><code>gnuplot hist-v2.gplot &amp;&amp; eog hist-v2.png</code></pre><p>this image is generated:<img src="http://img266.imageshack.us/img266/6717/histv2.png" alt="image hist-v2.png"></p><p>Unfortunately, the bars 'overlap' here, so it is hard to read the graph. </p><p>Is there a way to keep the numerical scale X axis as in <code>hist-v2.png</code>, but keep the 'bars' side by side with as in <code>hist-v1.png</code>? This thread, "<a href="http://newsgroups.derkeiler.com/Archive/Comp/comp.graphics.apps.gnuplot/2009-09/msg00044.html" rel="nofollow">Re: Histogram with x axis date error</a>" says you cannot: </p><blockquote>  <p>But it will be hard to pull the x-coordinate date out of the data file, ...</p></blockquote><p>but then, it refers to a different problem...</p><p>Thanks,</p><p>Cheers!</p>]]>
</body>
<title>Histogram with numeric x-axis in gnuplot?</title>
<lastedit>-1</lastedit>
<acceptedanswer>3432416</acceptedanswer>
−
<tags>
<tag id="0">axis</tag>
<tag id="1">numeric</tag>
<tag id="2">gnuplot</tag>
<tag id="3">histogram</tag>
</tags>
</question>
−
<question id="3311182">
<ownerid>277826</ownerid>
<creationdate>1279816708</creationdate>
<lastactivity>1279957330</lastactivity>
−
<body>
<![CDATA[<p>I am having a slight problem with some structs in a kernel module I'm building, so I thought it would be nice if there was an easy way to print out structs and their values - and below is a small userland example of what I mean.</p><p>Say we have the simple C example as below (given in form of a bash commands):</p><pre><code>FN=mtestcat &gt; $FN.c &lt;&lt;EOF#include &lt;stdio.h&gt; //printf#include &lt;stdlib.h&gt; //callocstruct person{ int age;  int height; };static struct person *johndoe;main (){ johndoe = (struct person *)calloc(1, sizeof(struct person)); johndoe-&gt;age = 6;  asm("int3"); //breakpoint for gdb printf("Hello World - age: %d\n", johndoe-&gt;age); free(johndoe);}EOFgcc -g -O0 $FN.c -o $FN# just a run command for gdbcat &gt; ./gdbcmds &lt;&lt;EOFrunEOFgdb --command=./gdbcmds ./$FN </code></pre><p>&nbsp;</p><p>If we run this example, the program will compile, and gdb will run it, and automatically stop at the breakpoint. Here we can do the following:</p><pre><code>Program received signal SIGTRAP, Trace/breakpoint trap.main () at mtest.c:2020  printf("Hello World - age: %d\n", johndoe-&gt;age);(gdb) p johndoe$1 = (struct person *) 0x804b008(gdb) p (struct person)*0x804b008$2 = {age = 6, height = 0}(gdb) cContinuing.Hello World - age: 6Program exited with code 0300.(gdb) q</code></pre><p>&nbsp;</p><p>As shown, in gdb we can printout (dump?) the value of the struct pointer <code>johndoe</code> as <code>{age = 6, height = 0}</code> ... I would like to do the same, but directly from a C program; say as in the following example: </p><pre><code>#include &lt;stdio.h&gt; //printf#include &lt;stdlib.h&gt; //calloc#include &lt;whatever.h&gt; //for imaginary printout_structstruct person{ int age;  int height; };static struct person *johndoe;static char report[255]; main (){ johndoe = (struct person *)calloc(1, sizeof(struct person)); johndoe-&gt;age = 6;  printout_struct(johndoe, report); //imaginary command printf("Hello World - age: %d\nreport: %s", johndoe-&gt;age, report); free(johndoe);}</code></pre><p>&nbsp;</p><p>which would result with an output like:</p><pre><code>Hello World - age: 6$2 = {age = 6, height = 0}</code></pre><p>&nbsp;</p><p>So my question is - does a function like that imaginary <code>printout_struct</code> exist - or is there another approach to make a printout like this possible? </p><p>Thanks in advance for any help, <br/>Cheers!</p>]]>
</body>
−
<title>
Linux C: Easy & 'pretty' dump/printout of structs (like in gdb) - from source code?
</title>
<lastedit>1279823413</lastedit>
<acceptedanswer>3312105</acceptedanswer>
−
<tags>
<tag id="0">c</tag>
<tag id="1">linux</tag>
<tag id="2">printing</tag>
<tag id="3">struct</tag>
<tag id="4">gdb</tag>
</tags>
</question>
−
<question id="2781297">
<ownerid>277826</ownerid>
<creationdate>1273151202</creationdate>
<lastactivity>1273156479</lastactivity>
−
<body>
<![CDATA[<p>Hi all, </p><p>I am trying to work with "<i>Introduction to Interprocess Communication Using Named Pipes - Full-Duplex Communication Using Named Pipes</i>", <a href="http://developers.sun.com/solaris/articles/named_pipes.html#5" rel="nofollow">http://developers.sun.com/solaris/articles/named_pipes.html#5</a> ; in particular fd_server.c (included below for reference) </p><p>Here is my info and compile line: </p><pre>:~$ cat /etc/issueUbuntu 10.04 LTS \n \l:~$ gcc --versiongcc (Ubuntu 4.4.3-4ubuntu5) 4.4.3:~$ gcc fd_server.c -o fd_server</pre><p>fd_server.c creates two named pipes, one for reading and one for writing. What one can do, is: in one terminal, run the server and read (through cat) its write pipe:</p><pre>:~$ ./fd_server & 2>/dev/null [1] 11354:~$ cat /tmp/np2 </pre><p>and in another, write (using echo) to server's read pipe:</p><pre>:~$ echo "heeellloooo" > /tmp/np1</pre><p>going back to first terminal, one can see: </p><pre>:~$ cat /tmp/np2 HEEELLLOOOO0[1]+  Exit 13                 ./fd_server 2> /dev/null</pre><p>What I would like to do, is make sort of a "interactive" (or "shell"-like) session; that is, the server is run as usual, but instead of running "cat" and "echo", I'd like to use something akin to <b>screen</b>. What I mean by that, is that screen can be called like <code>screen /dev/ttyS0 38400</code>, and then it makes a sort of a interactive session, where what is typed in terminal is passed to /dev/ttyS0, and its response is written to terminal. Now, of course, I cannot use <code>screen</code>, because in my case the program has two separate nodes, and as far as I can tell, <code>screen</code> can refer to only one. </p><p>How would one go about to achieve this sort of "interactive" session in this context (with two separate read/write pipes)? </p><p>Thanks, </p><p>Cheers!</p><p>Code below:</p><pre><code>#include &lt;stdio.h&gt;#include &lt;errno.h&gt;#include &lt;ctype.h&gt;#include &lt;sys/types.h&gt;#include &lt;sys/stat.h&gt;#include &lt;fcntl.h&gt;//#include &lt;fullduplex.h&gt; /* For name of the named-pipe */#define NP1     "/tmp/np1"#define NP2     "/tmp/np2"#define MAX_BUF_SIZE    255#include &lt;stdlib.h&gt; //exit#include &lt;string.h&gt; //strlenint main(int argc, char *argv[]){    int rdfd, wrfd, ret_val, count, numread;    char buf[MAX_BUF_SIZE];    /* Create the first named - pipe */    ret_val = mkfifo(NP1, 0666);    if ((ret_val == -1) &amp;&amp; (errno != EEXIST)) {        perror("Error creating the named pipe");        exit (1);    }    ret_val = mkfifo(NP2, 0666);    if ((ret_val == -1) &amp;&amp; (errno != EEXIST)) {        perror("Error creating the named pipe");        exit (1);    }    /* Open the first named pipe for reading */    rdfd = open(NP1, O_RDONLY);    /* Open the second named pipe for writing */    wrfd = open(NP2, O_WRONLY);    /* Read from the first pipe */    numread = read(rdfd, buf, MAX_BUF_SIZE);    buf[numread] = '0';    fprintf(stderr, "Full Duplex Server : Read From the pipe : %sn", buf);    /* Convert to the string to upper case */    count = 0;    while (count &lt; numread) {        buf[count] = toupper(buf[count]);        count++;    }    /*     * Write the converted string back to the second     * pipe     */    write(wrfd, buf, strlen(buf));}</code></pre><p>Edit:</p><p>Right, just to clarify - it seems I found a document discussing something very similar, it is <a href="http://en.wikibooks.org/wiki/Serial_Programming/Serial_Linux#Configuration_with_stty" rel="nofollow">http://en.wikibooks.org/wiki/Serial_Programming/Serial_Linux#Configuration_with_stty</a> - a modification of the script there ("<i>For example, the following script configures the device and starts a background process for copying all received data from the serial device to standard output...</i>") for the above program is below:</p><pre><code># stty raw # ( ./fd_server 2&gt;/dev/null; )&amp;bgPidS=$!( cat &lt; /tmp/np2 ; )&amp;bgPid=$!# Read commands from user, send them to deviceecho $(kill -0 $bgPidS 2&gt;/dev/null ; echo $?)while [ "$(kill -0 $bgPidS 2&gt;/dev/null ; echo $?)" -eq "0" ] &amp;&amp; read cmd; do   # redirect debug msgs to stderr, as here we're redirected to /tmp/np1   echo "$? - $bgPidS - $bgPid" &gt;&amp;2   echo "$cmd"   echo -e "\nproc: $(kill -0 $bgPidS 2&gt;/dev/null ; echo $?)" &gt;&amp;2done &gt;/tmp/np1echo OUT# Terminate background read process - if they still existif [ "$(kill -0 $bgPid 2&gt;/dev/null ; echo $?)" -eq "0" ] ;then    kill $bgPidfiif [ "$(kill -0 $bgPidS 2&gt;/dev/null ; echo $?)" -eq "0" ] ;then    kill $bgPidSfi# stty cooked</code></pre><p>So, saving the script as say starter.sh and calling it, results with the following session: </p><pre><code>$ ./starter.sh 0i'm typing here and pressing [enter] at end0 - 13496 - 13497I'M TYPING HERE AND PRESSING [ENTER] AT END0~�.N=�(�~� �����}����@������~� [garble]proc: 0OUT</code></pre><p>which is what I'd call for "interactive session" (ignoring the debug statements) - server waits for me to enter a command; it gives its output after it receives a command (and as in this case it exits after first command, so does the starter script as well). Except that, I'd like to not have buffered input, but sent character by character (meaning the above session should exit after first key press, and print out a single letter only - which is what I expected stty raw would help with, but it doesn't: it just kills reaction to both Enter and Ctrl-C :) )   </p><p>I was just wandering if there already is an existing command (akin to <code>screen</code> in respect to serial devices, I guess) that would accept two such named pipes as arguments, and establish a "terminal" or "shell" like session through them; or would I have to use scripts as above and/or program own 'client' that will behave as a terminal..</p>]]>
</body>
−
<title>
Linux C: "Interactive session" with separate read and write named pipes?
</title>
<lastedit>1273156479</lastedit>
<acceptedanswer>-1</acceptedanswer>
−
<tags>
<tag id="0">c</tag>
<tag id="1">pipes</tag>
<tag id="2">interactive</tag>
<tag id="3">named</tag>
</tags>
</question>
−
<question id="2780051">
<ownerid>277826</ownerid>
<creationdate>1273138939</creationdate>
<lastactivity>1273141207</lastactivity>
−
<body>
<![CDATA[<p>Hi all, </p><p>I am trying to understand <a href="http://beej.us/guide/bgnet/examples/select.c" rel="nofollow">http://beej.us/guide/bgnet/examples/select.c</a> (included below for reference). I am doing this: </p><p><code>    :~$ cat /etc/issue</p><pre><code>Ubuntu 10.04 LTS \n \l:~$ gcc --versiongcc (Ubuntu 4.4.3-4ubuntu5) 4.4.3:~$ wget http://beej.us/guide/bgnet/examples/select.c:~$ gcc select.c -o select:~$ echo "ff" | ./select A key was pressed!:~$ ./select TYPINGTYTimed out.</code></pre><p></code></p><p>So, the select program apparently recognizes an echo piping into it as input; but it will not recognize keypresses on the terminal. Why is this? Can some sort of redirection be used (I guess, similar to how screen could 'redirect' keyboard input to a serial session) so that actual key presses in terminal are recognized?</p><p>Thanks, Cheers!</p><p>select.c:</p><p><code>    /*    ** select.c -- a select() demo    */</p><pre><code>#include &lt;stdio.h&gt;#include &lt;sys/time.h&gt;#include &lt;sys/types.h&gt;#include &lt;unistd.h&gt;#define STDIN 0  // file descriptor for standard inputint main(void){ struct timeval tv; fd_set readfds; tv.tv_sec = 2; tv.tv_usec = 500000; FD_ZERO(&amp;readfds); FD_SET(STDIN, &amp;readfds); // don't care about writefds and exceptfds: select(STDIN+1, &amp;readfds, NULL, NULL, &amp;tv); if (FD_ISSET(STDIN, &amp;readfds))  printf("A key was pressed!\n"); else  printf("Timed out.\n"); return 0;}</code></pre><p></code></p><p><br/><br/></p><p>Edit: see answer; thus all we need is to press enter:</p><p><code></p><pre><code>:~$ ./select A key was pressed!</code></pre><p></code></p><p>or we can turn off buffered input with <code>stty raw</code> (and turn it back on with <code>stty cooked</code>):</p><p><code></p><pre><code>:~ stty raw:~ ./select                                             dA key was pressed!                                                               :~ stty cooked </code></pre><p></code></p>]]>
</body>
−
<title>
Linux C select: piping echo to input works, but reading from keyboard doesn't?
</title>
<lastedit>1273141207</lastedit>
<acceptedanswer>2780161</acceptedanswer>
−
<tags>
<tag id="0">c</tag>
<tag id="1">select</tag>
<tag id="2">stdin</tag>
<tag id="3">keypress</tag>
</tags>
</question>
−
<question id="2518833">
<ownerid>277826</ownerid>
<creationdate>1269546212</creationdate>
<lastactivity>1269546914</lastactivity>
−
<body>
<![CDATA[<p>Hi all, </p><p>Bumped into a somewhat weird problem... I want to turn the string:</p><p>a\left(b_{d}\right)</p><p>into </p><p>a \left( b_{d} \right)</p><p>in Scite using a Lua script. </p><p>So, I made the following Lua script for Scite: </p><hr><pre><code>function SpaceTexEquations()  editor:BeginUndoAction()    local sel = editor:GetSelText()    local cln3 = string.gsub(sel, "\\left(", " \\left( ")    local cln4 = string.gsub(cln3, "\\right)", " \\right) ")    editor:ReplaceSel(cln4)  editor:EndUndoAction()end</code></pre><hr><p>The cln3 line works fine, however, cln4 crashes with:</p><pre><code> /home/user/sciteLuaFunctions.lua:49: invalid pattern capture &gt;Lua: error occurred while processing command</code></pre><p>I think this is because bracket characters () are reserved characters in Lua; but then, how come the cln3 line works without escaping? By the way I also tried:</p><pre><code>-- using backslash \ as escape char:local cln4 = string.gsub(cln3, "\\right\)", " \\right) ") -- crashes all the same-- using percentage sign % as escape charelocal cln4 = string.gsub(cln3, "\\right%)", " \\right) ") -- does not crash, but does not match either</code></pre><p>Could anyone tell me what would be the correct way to do this? </p><p>Thanks, </p><p>Cheers!</p>]]>
</body>
<title>Scite Lua - escaping right bracket in regex?</title>
<lastedit>-1</lastedit>
<acceptedanswer>-1</acceptedanswer>
−
<tags>
<tag id="0">regex</tag>
<tag id="1">lua</tag>
<tag id="2">escaping</tag>
<tag id="3">scite</tag>
</tags>
</question>
−
<question id="2877110">
<ownerid>236455</ownerid>
<creationdate>1274383710</creationdate>
<lastactivity>1274389961</lastactivity>
−
<body>
<![CDATA[<p>Can somebody explain to me why this works (in Python 2.5) :</p><pre><code>class Foo(object):    passclass Bar(Foo):    passprint(Foo.__subclasses__())</code></pre><p>but this doesn't :</p><pre><code>class Foo():    passclass Bar(Foo):    passprint(Foo.__subclasses__())</code></pre><p>The latter returns "AttributeError: class Foo has no attribute '<code>__subclasses__</code>'" but i'm not sure why. I know this is related to old-style vs. new-style classes but i'm not clear on why that would make this functionality unavailable. </p><p><strong>Clarification:</strong> I'm looking to understand WHY <code>__subclasses__()</code> isn't available in old-style, i get that the method doesn't exist for old-style classes but I don't get what it is about new-style that makes these new functions possible.</p>]]>
</body>
−
<title>
Python new-style classes and __subclasses__ function
</title>
<lastedit>1274387366</lastedit>
<acceptedanswer>2877433</acceptedanswer>
−
<tags>
<tag id="0">python</tag>
</tags>
</question>
−
<question id="2510765">
<ownerid>236455</ownerid>
<creationdate>1269458474</creationdate>
<lastactivity>1269462609</lastactivity>
−
<body>
<![CDATA[<p>I have various custom binary files stored in perforce and for many of the file types I have built a custom diff tool to show the content creators a diff of the actual changes to the file. </p><p>E.g. If the file holds simple key value pairs as a compressed binary blob the diff tool would load each version into an in memory format and generate a list of additions, deletions and edits to the file presented in a nice clean report view.</p><p>Much like the built in image diff tool in P4V i'd like to be able to use my own diff tool for certain file extensions within my depot and allow the users to use the existing P4V interface to pick revisions to diff between and examine history.</p><p>So, I am aware you can write add-ins to P4V but I can't find any documentation on it and I'd like to know if this kind of extension functionality is available in P4V and how to use it? </p>]]>
</body>
−
<title>
Extending Perforce to use a custom content diff tool for certain file extensions
</title>
<lastedit>-1</lastedit>
<acceptedanswer>2511162</acceptedanswer>
−
<tags>
<tag id="0">diff</tag>
<tag id="1">perforce</tag>
<tag id="2">p4v</tag>
</tags>
</question>
−
<question id="2327678">
<ownerid>236455</ownerid>
<creationdate>1267029267</creationdate>
<lastactivity>1267029812</lastactivity>
−
<body>
<![CDATA[<p>I have a simple Django app that has a variety of views of various different asset types. I have various jQuery functions that key off the asset type name and so when I generate the page using the django template I use a template variable to fill in the asset type parameter in the javascript code...</p><pre><code>$(document).ready(function() {     $(".project").click(function() {return FiltersChanged('{{ asset_type }}', $('#filter_entry').val());});});</code></pre><p>I'm using this kind of paradigm a lot in the app and it seems a little awkward to me, I'm finding that i'm creating a lot of duplicate code in different template files simply because I need to fill in that {{asset_type}} variable and i'd like to be able to reduce the duplication and not need to generate that code in the template every time.</p><p>So, is there a better way to do this that doesn't require duplicating code in each page?</p>]]>
</body>
−
<title>
Passing parameters to the Javascript code on a page using django templates?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>2327727</acceptedanswer>
−
<tags>
<tag id="0">jquery</tag>
<tag id="1">django</tag>
<tag id="2">web-development</tag>
<tag id="3">web</tag>
</tags>
</question>
−
<question id="1986335">
<ownerid>236455</ownerid>
<creationdate>1262280853</creationdate>
<lastactivity>1262281787</lastactivity>
−
<body>
<![CDATA[<p>I'm looking for a way to get a list of all classes that derive from a particular base class in Python. </p><p>More specifically I am using Django and I have a abstract base Model and then several Models that derive from that base class...</p><pre><code>class Asset(models.Model):    name = models.CharField(max_length=500)    last_update = models.DateTimeField(default=datetime.datetime.now())    category = models.CharField(max_length=200, default='None')    class Meta:        abstract = Trueclass AssetTypeA(Asset):    junk = models.CharField(max_length=200)    hasJunk =  models.BooleanField()    def __unicode__(self):        return self.junkclass AssetTypeB(Asset):    stuff= models.CharField(max_length=200)    def __unicode__(self):        return self.stuff</code></pre><p>I'd like to be able to detect if anyone adds a new AssetTypeX model and generate the appropriate pages but currently I am maintaining a list manually, is there a way to determine a list of class names for anything that derives from "Asset"?</p>]]>
</body>
−
<title>
Finding all classes that derive from a given base class in python
</title>
<lastedit>-1</lastedit>
<acceptedanswer>1986390</acceptedanswer>
−
<tags>
<tag id="0">python</tag>
<tag id="1">django</tag>
</tags>
</question>
−
<question id="1981524">
<ownerid>236455</ownerid>
<creationdate>1262195990</creationdate>
<lastactivity>1262196474</lastactivity>
−
<body>
<![CDATA[<p>I'm trying to filter a table in django based on the value of a particular field of a foreign key.</p><p>For example I have two models - Project and Asset, Project has a "name" field and each asset has a ForiegnKey(Project) field. I'd like to filter my asset list based on the name of the associated project.</p><p>Currently I am performing two queries...</p><pre><code>project_list = Project.objects.filter(name__contains="Foo")         asset_list = Asset.objects.filter( desc__contains=filter, project__in=project_list).order_by('desc')</code></pre><p>but i'm wondering if there is a way to specify this kind of filtering in the main query?</p>]]>
</body>
<title>Django - filtering on foreign key properties</title>
<lastedit>-1</lastedit>
<acceptedanswer>1981562</acceptedanswer>
−
<tags>
<tag id="0">django</tag>
<tag id="1">django-models</tag>
</tags>
</question>
−
<question id="4028353">
<ownerid>103167</ownerid>
<creationdate>1288130101</creationdate>
<lastactivity>1288417494</lastactivity>
−
<body>
<![CDATA[<p>I have an application, let's call it myapp.exe, which is dual-mode console/GUI, built as /SUBSYSTEM:WINDOWS (There's a tiny 3KB shim myapp.com to cause cmd.exe to wait to display the new prompt.)</p><p>If I launch from a command prompt:</p><ul><li><code>myapp</code> -> cmd.exe runs myapp.com which runs myapp.exe.  stdout is initially a detached console, by using <code>AttachConsole</code> and <code>freopen("CONOUT$", "w", stdout)</code> my output appears in the command box.  OK</li><li><code>myapp.exe</code> -> cmd.exe displays the prompt too early (known problem), otherwise same as previous.  Not a normal usage scenario.</li><li><code>myapp &gt; log</code> -> stdout is a file, normal use of <code>std::cout</code> ends up in the file.  OK</li></ul><p>If I launch from Windows explorer:</p><ul><li><code>myapp.com</code> -> console is created, stdout is console, output goes into console.  Same result as using /SUBSYSTEM:CONSOLE for the entire program, except that I've added a pause when <code>myapp.com</code> is the only process in the console.  Not a normal usage scenario.</li><li><code>myapp.exe</code> -> stdout is a NULL handle, I detect this and hook <code>std::cout</code> to a GUI.  OK</li></ul><p>If I launch from Matlab shell:</p><ul><li><code>system('myapp')</code> or <code>system('myapp.com')</code> or <code>system('myapp.exe')</code> -> For all three variations, stdout is piped to MatLab.  OK</li></ul><p>If I launch from a cygwin bash shell:</p><ul><li><code>./myapp.com</code> -> Just like launch from cmd.exe, the output appears in the command box.  OK</li><li><code>./myapp</code> -> (bash finds <code>./myapp.exe</code>).  <strong>This is the broken case</strong>.  stdout is a non-NULL handle but output goes nowhere.  This is the normal situation for running the program from bash and needs to be fixed!</li><li><code>./myapp &gt; log</code> -> Just like launch from cmd.exe with file redirection.  OK</li><li><code>./myapp | cat</code> -> Similar to file redirection, except output ends up on the console window.  OK</li></ul><p>Does anybody know what cygwin sets as stdout when launching a /SUBSYSTEM:WINDOWS process and how I can bind <code>std::cout</code> to it?  Or at least tell me how to find out what kind of handle I'm getting back from <code>GetStdHandle(STD_OUTPUT_HANDLE)</code>?</p><p>My program is written with Visual C++ 2010, without <code>/clr</code>, in case that matters in any way.  OS is Windows 7 64-bit.</p><p>EDIT: Additional information requested.</p><p>CYGWIN environment variable is empty (or non-existent).</p><p><code>GetFileType()</code> returns <code>FILE_TYPE_UNKNOWN</code>.  <code>GetLastError()</code> returns <code>6 (ERROR_INVALID_HANDLE)</code>.  It doesn't matter whether I check before or after calling <code>AttachConsole()</code>.</p><p>However, if I simply ignore the invalid handle and <code>freopen("CONOUT$", "w", stdout)</code> then everything works great.  I was just missing a way to distinguish between (busted) console output and file redirection, and <code>GetFileType()</code> provided that.</p><p>EDIT: Final code:</p><pre><code>bool is_console(HANDLE h){    if (!h) return false;    ::AttachConsole(ATTACH_PARENT_PROCESS);    if (FILE_TYPE_UNKNOWN == ::GetFileType(h) &amp;&amp; ERROR_INVALID_HANDLE == GetLastError()) {        /* workaround cygwin brokenness */        h = ::CreateFile(_T("CONOUT$"), GENERIC_WRITE, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL);        if (h) {            ::CloseHandle(h);            return true;        }    }    CONSOLE_FONT_INFO cfi;    return ::GetCurrentConsoleFont(h, FALSE, &amp;cfi) != 0;}bool init( void ){    HANDLE out = ::GetStdHandle(STD_OUTPUT_HANDLE);    if (out) {        /* stdout exists, might be console, file, or pipe */        if (is_console(out)) {#pragma warning(push)#pragma warning(disable: 4996)            freopen("CONOUT$", "w", stdout);#pragma warning(pop)        }        //std::stringstream msg;        //DWORD result = ::GetFileType(out);        //DWORD lasterror = ::GetLastError();        //msg &lt;&lt; result &lt;&lt; std::ends;        //::MessageBoxA(NULL, msg.str().c_str(), "GetFileType", MB_OK);        //if (result == FILE_TYPE_UNKNOWN) {        //  msg.str(std::string());        //  msg &lt;&lt; lasterror &lt;&lt; std::ends;        //  ::MessageBoxA(NULL, msg.str().c_str(), "GetLastError", MB_OK);        //}        return true;    }    else {        /* no text-mode stdout, launch GUI (actual code removed) */    }}</code></pre>]]>
</body>
−
<title>
Where do writes to stdout go when launched from a cygwin shell, no redirection
</title>
<lastedit>1288245291</lastedit>
<acceptedanswer>4057426</acceptedanswer>
−
<tags>
<tag id="0">cygwin</tag>
<tag id="1">stdout</tag>
</tags>
</question>
−
<question id="3569643">
<ownerid>103167</ownerid>
<creationdate>1282765607</creationdate>
<lastactivity>1282914179</lastactivity>
−
<body>
<![CDATA[<p>In my copy of VS2010, stdlib.h contains (lines 353-355)</p><pre><code>_CRTIMP __declspec(noreturn) void __cdecl exit(_In_ int _Code);_CRTIMP __declspec(noreturn) void __cdecl _exit(_In_ int _Code);_CRTIMP void __cdecl abort(void);</code></pre><p>I find it strange that there's no <code>noreturn</code> annotation on <code>abort()</code>.  Does anyone know a reason for this?  Is it a bug?</p><p>EDIT: In VS2008, it's the same, but lines 371-373 of stdlib.h</p><p>The lack of the <code>noreturn</code> annotation is triggering <a href="http://msdn.microsoft.com/en-us/library/ft5xye74.aspx" rel="nofollow">error C4716</a>.</p><p>Further reference: <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1453.htm" rel="nofollow">C++0x proposal for standardization of the <code>noreturn</code> annotation</a>, which says that <code>abort</code> should carry it.</p><p>EDIT: Looks like a bunch of discussion disappeared with a deleted answer, but the gist of it is covered in <a href="http://www.open-std.org/jtc1/sc22/wg14/docs/rr/dr_048.html" rel="nofollow">Defect Report #048</a>.</p>]]>
</body>
<title>abort() is not __declspec(noreturn) in VS2010</title>
<lastedit>1282768005</lastedit>
<acceptedanswer>3584383</acceptedanswer>
−
<tags>
<tag id="0">c++</tag>
<tag id="1">c</tag>
<tag id="2">visual-studio-2010</tag>
<tag id="3">abort</tag>
<tag id="4">noreturn</tag>
</tags>
</question>
−
<question id="3570678">
<ownerid>67022</ownerid>
<creationdate>1282774692</creationdate>
<lastactivity>1287520019</lastactivity>
−
<body>
<![CDATA[<p>Using net-snmp, table code generated by <code>mib2c -c mib2c.iterate.conf fooBarTable</code> and then heavily hacked.</p><p>Unfortunately the table is defined with an Entry of 2 instead of the normal 1. (I didn't do this, I'm trying to make this fit into an existing situation.) The MIB looks something like this:</p><pre><code>fooBarTable OBJECT-TYPE    SYNTAX          SEQUENCE OF FooBarEntry    MAX-ACCESS      not-accessible    STATUS          current    DESCRIPTION    "blah"    ::= { fooMIBObjects 8 }fooBarEntry OBJECT-TYPE    SYNTAX          FooBarEntry    MAX-ACCESS      not-accessible    STATUS          current    DESCRIPTION     "Stuff."    INDEX { ifIndex }    ::= { fooBarTable 2 }</code></pre><p>When you register the table with net-snmp, you just give it an OID like "...,1,8" (i.e. up to fooBarTable, but not including the Entry). Net-snmp implicitly tacks the .1 to the table OID and then columns, indices, etc.</p><p>Is there a semi-supported way to force that entry value to 2? (I.e. without resorting to hacking the bits out of the objects that are passed in to the handler.)</p>]]>
</body>
−
<title>
net-snmp: force table to have xxEntry value of 2 instead of 1
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3972462</acceptedanswer>
−
<tags>
<tag id="0">snmp</tag>
<tag id="1">mibs</tag>
<tag id="2">net-snmp</tag>
</tags>
</question>
−
<question id="3937164">
<ownerid>67022</ownerid>
<creationdate>1287087266</creationdate>
<lastactivity>1287231615</lastactivity>
−
<body>
<![CDATA[<p>I'm trying to get buildbot running on centos5, and getting the following error:</p><pre><code>  File "/usr/lib/python2.4/site-packages/buildbot/status/mail.py", line 14, in ?    from twisted.mail.smtp import sendmail, ESMTPSenderFactoryImportError: No module named mail.smtp</code></pre><p>I have the following twisted packages installed (and don't see anything else relevant to install):</p><pre><code>$ rpm -qa | grep twistedpython-twisted-web-0.7.0-1.el5python-twisted-core-2.5.0-4.el5python-twisted-words-0.5.0-3.el5</code></pre><p>I'm more familiar with debian where I can do:</p><pre><code>$ apt-file find twisted/mail/smtppython-twisted-mail: /usr/share/pyshared/twisted/mail/smtp.py</code></pre><p>Two questions:</p><ol><li>Is there something I can pull from yum that will provide this file or do I need to resort to manual tactics for this part of twisted?</li><li>Is there anything analogous to the <code>apt-file</code> command above for rpm/yum-based systems?</li></ol><p>Thanks.</p><p>(I considered superuser, but this seems so tightly coupled to programming that I expect better answers here...)</p>]]>
</body>
<title>twisted on centos missing mail.smtp?</title>
<lastedit>-1</lastedit>
<acceptedanswer>3948859</acceptedanswer>
−
<tags>
<tag id="0">python</tag>
<tag id="1">twisted</tag>
<tag id="2">centos</tag>
<tag id="3">rpm</tag>
</tags>
</question>
−
<question id="3875122">
<ownerid>67022</ownerid>
<creationdate>1286385121</creationdate>
<lastactivity>1286906380</lastactivity>
−
<body>
<![CDATA[<p>I have the following minimal source file:</p><pre><code>$ cat path/xx/yy/fooBar.c void this_is_a_test(void){}</code></pre><p>If I run etags like this it works ok:</p><pre><code>$ etags path/xx/yy/fooBar.c $ cat TAGS path/xx/yy/fooBar.c,25void this_is_a_test(1,0</code></pre><p>But if I run etags via find/xargs the TAGS file is corrupted:</p><pre><code>$ find . -name fooBar.c./path/xx/yy/fooBar.c$ find . -name fooBar.c | xargs etags$ cat TAGSpath/xx/yy/fBoBar.c,25void this_is_a_test(^?1,0</code></pre><p>Note the filename shows up above as fBoBar.c -- bogus!</p><p>I like to be able to generate TAGS by doing something like <code>find . -name '*.[ch]' | xargs etags</code>. But it is corrupting most of the filenames when I do this.</p><p>Any idea why it is failing like this, and/or what I can do to make it work?</p><p>Ubuntu Lucid. Etags is from emacs23-bin-common 23.1+1-4ubuntu7.</p><p><strong>Edit</strong>:</p><p>In response to fschmitt's question:</p><pre><code>$ etags $(find . -name fooBar.c)$ cat TAGS path/xx/yy/fBoBar.c,25void this_is_a_test(1,0</code></pre><p><strong>New info</strong>:</p><p>I just noticed that the difference between the two uses in my original question above is the leading <code>.</code> on the path. And if I call etags like <code>etags ./path/xx/yy/fooBar.c</code>, it corrupts the file. So a workaround is to make sure the args to etags don't have leading tags. (Perhaps this is a bug in etags, because the documentation describes my usage pattern almost exactly.)</p>]]>
</body>
<title>why is etags generating a corrupted TAGS file?</title>
<lastedit>1286387121</lastedit>
<acceptedanswer>3917593</acceptedanswer>
−
<tags>
<tag id="0">emacs</tag>
<tag id="1">tags</tag>
<tag id="2">etag</tag>
</tags>
</question>
−
<question id="3884110">
<ownerid>67022</ownerid>
<creationdate>1286471786</creationdate>
<lastactivity>1286471786</lastactivity>
−
<body>
<![CDATA[<p>I can test this to find the behavior but that's not the point. In <a href="http://stackoverflow.com/questions/3882379/how-to-interrupt-a-fread-call/3883457#3883457">my answer</a> to another question, a commenter recommended closing a monitored fd from another thread to wake up <code>select</code>. Another commenter couldn't find a reference to this behavior in the standard, and I can't find one either.</p><p>Can someone provide a pointer to the standard on this behavior?</p>]]>
</body>
−
<title>
What is select supposed to do if you close a monitored fd?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>-1</acceptedanswer>
−
<tags>
<tag id="0">select</tag>
<tag id="1">posix</tag>
</tags>
</question>
−
<question id="3756374">
<ownerid>67022</ownerid>
<creationdate>1285026614</creationdate>
<lastactivity>1285441096</lastactivity>
−
<body>
<![CDATA[<p>I'm running a command line like this:</p><pre><code>filename_listing_command | xargs -0 action_command</code></pre><p>Where <code>filename_listing_command</code> uses null bytes to separate the files -- this is what <code>xargs -0</code> wants to consume.</p><p>Problem is that I want to filter out some of the files. Something like this:</p><pre><code>filename_listing_command | sed -e '/\.py/!d' | xargs ac</code></pre><p>but I need to use <code>xargs -0</code>.</p><p>How do I change the line separator that sed wants from newline to NUL?</p>]]>
</body>
−
<title>
Change sed line separator to NUL to act as "xargs -0" prefilter?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3756732</acceptedanswer>
−
<tags>
<tag id="0">sed</tag>
<tag id="1">xargs</tag>
</tags>
</question>
−
<question id="3757500">
<ownerid>67022</ownerid>
<creationdate>1285046528</creationdate>
<lastactivity>1285046887</lastactivity>
−
<body>
<![CDATA[<p>I want to use <a href="http://sphinx.pocoo.org/ext/autodoc.html#event-autodoc-skip-member" rel="nofollow">sphinx's autodoc-skip-member</a> event to select a portion of the members on a certain python class for documentation.</p><p>But it isn't clear from the sphinx docs, and I can't find any examples that illustrate: where do I put the code to connect this? I see <a href="http://sphinx.pocoo.org/ext/appapi.html#sphinx.application.Sphinx.connect" rel="nofollow">Sphinx.connect</a> and I suspect it goes in my conf.py, but when I try variations on this code in conf.py I can't find the app object that I should connect():</p><pre><code>def maybe_skip_member(app, what, name, obj, skip,                                  options):    print app, what, name, obj, skip, options    return False# This is not even close to correct:#from sphinx.application import Sphinx#Sphinx().connect('autodoc-skip-member', maybe_skip_member)</code></pre><p>A pointer to a simple example would be ideal.</p>]]>
</body>
−
<title>
How do I connect sphinx's autodoc-skip-member to my function?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3757526</acceptedanswer>
−
<tags>
<tag id="0">python</tag>
<tag id="1">sphinx</tag>
</tags>
</question>
−
<question id="3737740">
<ownerid>67022</ownerid>
<creationdate>1284746185</creationdate>
<lastactivity>1284750388</lastactivity>
−
<body>
<![CDATA[<p>I occasionally run a bash command line like this:</p><pre><code>n=0; while [[ $n -lt 10 ]]; do some_command; n=$((n+1)); done</code></pre><p>To run <code>some_command</code> a number of times in a row -- 10 times in this case.</p><p>Often <code>some_command</code> is really a chain of commands or a pipeline.</p><p>Is there a more concise way to do this?</p>]]>
</body>
−
<title>
Is there a better way to run a command N times in bash?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3737773</acceptedanswer>
−
<tags>
<tag id="0">bash</tag>
</tags>
</question>
−
<question id="3714321">
<ownerid>67022</ownerid>
<creationdate>1284518601</creationdate>
<lastactivity>1284518601</lastactivity>
−
<body>
<![CDATA[<p>I'm looking for a library or tool to decode FSK in wav files, e.g. caller id.</p><p>Currently using the tools bundled with vpb-driver for Voicetronix hardware that is available via debian/ubuntu. But this appears to have an error that I'm trying to debug -- a second tool to validate the audio file would be useful.</p><p>I'm <strong>not</strong> looking for any of the myriad tools that read caller id data from a modem or other hardware device -- I need pure software.</p>]]>
</body>
<title>Open source FSK decoder library?</title>
<lastedit>-1</lastedit>
<acceptedanswer>-1</acceptedanswer>
−
<tags>
<tag id="0">audio</tag>
<tag id="1">telephony</tag>
<tag id="2">audio-processing</tag>
</tags>
</question>
−
<question id="3705306">
<ownerid>67022</ownerid>
<creationdate>1284422990</creationdate>
<lastactivity>1284423510</lastactivity>
−
<body>
<![CDATA[<p>I have a list of <code>Thing</code> and a <code>Controller</code> that I want to <code>notify()</code> with each of the things. The code below works:</p><pre><code>#include &lt;algorithm&gt;#include &lt;iostream&gt;#include &lt;tr1/functional&gt;#include &lt;list&gt;using namespace std;class Thing { public: int x; };class Controller{public:    void notify(Thing&amp; t) { cerr &lt;&lt; t.x &lt;&lt; endl; }};class Notifier{public:    Notifier(Controller* c) { _c = c; }    void operator()(Thing&amp; t) { _c-&gt;notify(t); }private:    Controller* _c;};int main(){    list&lt;Thing&gt; things;    Controller c;    // ... add some things ...    Thing t;    t.x = 1; things.push_back(t);    t.x = 2; things.push_back(t);    t.x = 3; things.push_back(t);    // This doesn't work:    //for_each(things.begin(), things.end(),    //         tr1::mem_fn(&amp;Controller::notify));    for_each(things.begin(), things.end(), Notifier(&amp;c));    return 0;}</code></pre><p>My question is: can I get rid of the <code>Notifier</code> class by using some version of the "This doesn't work" line? Seems like I should be able to make something work, but can't quite get the right combination. (I've fumbled around with a number of different combinations.)</p><p>Without using boost? (I would if I could.) I'm using g++ 4.1.2, yes I know it is old...</p>]]>
</body>
−
<title>
Call c++ member function with each element in a list?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3705322</acceptedanswer>
−
<tags>
<tag id="0">c++</tag>
<tag id="1">stl</tag>
<tag id="2">tr1</tag>
</tags>
</question>
−
<question id="3603602">
<ownerid>67022</ownerid>
<creationdate>1283196898</creationdate>
<lastactivity>1283197152</lastactivity>
−
<body>
<![CDATA[<p>I'm learning haskell. Currently working through <a href="http://haskell.org/haskellwiki/99_questions/1_to_10" rel="nofollow">99 questions</a>, a little bit stuck on #7:</p><blockquote>  <p>Problem 7  (**) Flatten a nested list structure.</p>    <p>Transform a list, possibly holding lists as elements into a `flat' list by replacing each list with its elements (recursively).</p>    <p>Example in Haskell:</p><pre><code>*Main&gt; flatten (Elem 5)[5]*Main&gt; flatten (List [Elem 1, List [Elem 2, List [Elem 3, Elem 4], Elem 5]])[1,2,3,4,5]*Main&gt; flatten (List [])[]</code></pre></blockquote><p>Where do <code>Elem</code> and <code>List</code> come from? What do I have to do to be able to use them in my program? (Or does the question assume that I have to define a new type for these -- if that's the answer I'll go off and reread that section of the tutorial...)</p>]]>
</body>
<title>haskell: 99 questions #7: heterogeneous list</title>
<lastedit>-1</lastedit>
<acceptedanswer>3603631</acceptedanswer>
−
<tags>
<tag id="0">haskell</tag>
</tags>
</question>
−
<question id="3504166">
<ownerid>67022</ownerid>
<creationdate>1282059055</creationdate>
<lastactivity>1282059319</lastactivity>
−
<body>
<![CDATA[<p>Assume a MIB contains a table indexed by MAC address. What's the correct behavior by the agent when a manager requests <code>myTable.0.1</code>? This is an incomplete index.</p><p>Some possibilities that I see:</p><ol><li>Return the first row in the table -- treat this partial index as coming before the first row.</li><li>Treat this as a subtree -- return rows in the table that match this MAC prefix.</li><li>Return no rows -- treat this as coming after the last row in the table.</li><li>Return some kind of error?</li></ol>]]>
</body>
−
<title>
snmp: correct behavior when only part of a table index is given?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3504202</acceptedanswer>
−
<tags>
<tag id="0">snmp</tag>
<tag id="1">mibs</tag>
</tags>
</question>
−
<question id="3392392">
<ownerid>67022</ownerid>
<creationdate>1280789342</creationdate>
<lastactivity>1280816505</lastactivity>
−
<body>
<![CDATA[<p>I don't want to end up with <a href="http://stackoverflow.com/questions/2353804/list-git-branches-that-can-safely-be-deleted">82 feature branches hanging around</a>, so I'm wondering what the potential drawbacks are to simply deleting the feature branch as soon as I merge it to master.</p><p>Workflow:</p><pre><code>git co -b feat-xyzhack hackgit cihack some moregit cigit co mastergit merge feat-xyzsmoke testgit br -d feat-xyz</code></pre><p>Any issues here?</p>]]>
</body>
−
<title>
When is the right time to delete a git feature branch?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3392942</acceptedanswer>
−
<tags>
<tag id="0">git</tag>
<tag id="1">branch</tag>
</tags>
</question>
−
<question id="3332045">
<ownerid>67022</ownerid>
<creationdate>1280114874</creationdate>
<lastactivity>1280507763</lastactivity>
−
<body>
<![CDATA[<p>I've got a script like:</p><pre><code>#!/bin/bashexec /usr/bin/some_binary &gt; /tmp/my.log 2&gt;&amp;1</code></pre><p>Problem is that <code>some_binary</code> sends all of its logging to stdout, and buffering makes it so that I only see output in chunks of a few lines. This is annoying when something gets stuck and I need to see what the last line says.</p><p>Is there any way to make stdout unbuffered before I do the exec that will affect some_binary so it has more useful logging?</p><p>(The wrapper script is only setting a few environment variables before the exec, so a solution in perl or python would also be feasible.)</p><p>Thanks.</p>]]>
</body>
−
<title>
bash: force exec'd process to have unbuffered stdout
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3332061</acceptedanswer>
−
<tags>
<tag id="0">bash</tag>
<tag id="1">logging</tag>
<tag id="2">exec</tag>
<tag id="3">unbuffered-output</tag>
</tags>
</question>
−
<question id="3365845">
<ownerid>67022</ownerid>
<creationdate>1280428404</creationdate>
<lastactivity>1280428721</lastactivity>
−
<body>
<![CDATA[<p>I've done this before by creating a clone and doing the rebase in the clone, but I suspect I could do it safely on a separate branch.</p><p>I have a feature branch <code>feat-x</code> with about 25 commits on it. I'd like to (safely) squash several of these together.</p><p>(I say "safely" because the first couple of times I squashed I didn't get it right -- but was working in a clone so just threw it away until I figured out the right incantation.)</p><p>What sequence of commands will give me <code>feat-x-exp</code> that is a copy of <code>feat-x</code> so I can experiment with squashing without disturbing <code>feat-x</code>?</p>]]>
</body>
−
<title>
How do I make a copy of a branch for testing rebase?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3365887</acceptedanswer>
−
<tags>
<tag id="0">git</tag>
<tag id="1">branch</tag>
<tag id="2">rebase</tag>
<tag id="3">squash</tag>
</tags>
</question>
−
<question id="3251550">
<ownerid>67022</ownerid>
<creationdate>1279152638</creationdate>
<lastactivity>1279628565</lastactivity>
−
<body>
<![CDATA[<p>In a C program I can write argv[0] and the new name shows up in a ps listing.</p><p>How can I do this in bash?</p>]]>
</body>
−
<title>
How to change argv0 in bash so command shows up with different name in ps?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3289825</acceptedanswer>
−
<tags>
<tag id="0">bash</tag>
</tags>
</question>
−
<question id="3261690">
<ownerid>67022</ownerid>
<creationdate>1279250270</creationdate>
<lastactivity>1279250270</lastactivity>
−
<body>
<![CDATA[<p>We've got an "appliance", based on ubuntu that has some of our own apps running on it (which are distributed as .deb).</p><p>Logging is sent through syslog. Syslog.conf is customized so that our apps' messages get sent to a dedicated file.</p><p>Are there any gotchas/best practices I should know about in terms of programmatically modifying syslog.conf from the installer scripts and/or administrative configuration scripts? It doesn't support "conf.d" style configuration and I'd like to avoid stomping on existing config.</p><p>Thanks.</p>]]>
</body>
<title>What to watch out for when modifying syslog.conf?</title>
<lastedit>-1</lastedit>
<acceptedanswer>-1</acceptedanswer>
−
<tags>
<tag id="0">linux</tag>
<tag id="1">ubuntu</tag>
<tag id="2">configuration-files</tag>
<tag id="3">syslog</tag>
</tags>
</question>
−
<question id="3233174">
<ownerid>67022</ownerid>
<creationdate>1278978881</creationdate>
<lastactivity>1278981165</lastactivity>
−
<body>
<![CDATA[<p>valgrind is reporting uninitialized memory errors from code like this:</p><pre><code>unsigned char buf[100];struct driver_command cmd;cmd.len = sizeof(buf);cmd.buf = buf;ioctl(my_driver_fd, READ, &amp;cmd);for(i = 0; i &lt; sizeof(buf); i++){    foo(buf[i]); /* &lt;&lt;--- uninit use error from valgrind */}</code></pre><p>If I memset() the buf before the driver call, the error goes away.</p><p>Can valgrind detect whether the linux driver is properly writing to the buffer? (I looked at the driver code, and it seems to be correct, but maybe I'm missing something.)</p><p>Or does it just pass the driver call through and has no way of knowing that the buffer has been written inside the kernel?</p><p>Thanks.</p>]]>
</body>
−
<title>
Does valgrind track memory initialization through drivers?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>3233242</acceptedanswer>
−
<tags>
<tag id="0">c</tag>
<tag id="1">linux</tag>
<tag id="2">driver</tag>
<tag id="3">valgrind</tag>
<tag id="4">uninitialized</tag>
</tags>
</question>
−
<question id="2722168">
<ownerid>67022</ownerid>
<creationdate>1272379432</creationdate>
<lastactivity>1272392562</lastactivity>
−
<body>
<![CDATA[<p>I want to do the inverse of <a href="http://stackoverflow.com/questions/1155578/which-program-creates-a-c-array-given-any-file">this question</a>.</p><p>I am embedding a file into an executable as an array, and I would later like to extract the embedded file from the executable.</p><p>It seems like objcopy might be useful here but I haven't figured out the proper incantation yet.</p><p><em>(Edit: clarify question, I somehow removed the crux of it in editing originally...)</em></p>]]>
</body>
−
<title>
How can I extract an array from an executable file?
</title>
<lastedit>1272380314</lastedit>
<acceptedanswer>2723862</acceptedanswer>
−
<tags>
<tag id="0">c</tag>
<tag id="1">arrays</tag>
<tag id="2">objcopy</tag>
</tags>
</question>
−
<question id="1504729">
<ownerid>67022</ownerid>
<creationdate>1254411768</creationdate>
<lastactivity>1254413226</lastactivity>
−
<body>
<![CDATA[<p>I have an "appliance" (for lack of better description) running linux.</p><p>Currently I ssh into the box to launch jobs. This isn't friendly enough for my users, so I'm putting together a simple web UI to launch the script. A job runs for anywhere from 10 seconds to several hours. The web UI needs to reflect the status of the job.</p><p>I've solved similar problems in the past by running a daemon on the server that watches a spool directory (or db table) for new job requests, spawns a process, monitors the process, and provides info for the web UI in a db table or status file. The web UI then drops job requests into a spool dir (db) and occasionally check the status file (db). This might be overkill for this task.</p><p>For the current task, I am considering spawning the job from the cgi and occasionally checking a status file that the job writes as it progresses or exits.</p><p>My question: is there a better (simpler/faster-to-write/more robust) way to do this? Are there existing patterns or tools that I should know about?</p><p>(Python solutions are ideal.)</p><p>Thanks.</p>]]>
</body>
−
<title>
Communicate with backend job from web server or web page
</title>
<lastedit>-1</lastedit>
<acceptedanswer>1504890</acceptedanswer>
−
<tags>
<tag id="0">python</tag>
<tag id="1">linux</tag>
<tag id="2">web</tag>
<tag id="3">backend</tag>
</tags>
</question>
−
<question id="1475193">
<ownerid>67022</ownerid>
<creationdate>1253846991</creationdate>
<lastactivity>1253883412</lastactivity>
−
<body>
<![CDATA[<p>My class contains a socket that connects to a server. Some of the methods of the class can throw an exception. The script I'm running contains an outer loop that catches the exception, logs an error, and creates a new class instance that tries to reconnect to the server.</p><p>Problem is that the server only handles one connection at a time (by design) and the "old" socket is still connected. So the new connection attempt hangs the script. I can work around this by forcing the old socket closed, but I wonder: why doesn't the socket automatically close?</p><p>When it is "stuck", netstat shows two sockets connected to the port. The server is waiting for input from the first socket though, it isn't handling the new one yet.</p><p>I run this against a dummy server that replies "error\n" to every incoming line.</p><p>EDIT: see my comment on <a href="http://stackoverflow.com/questions/1475193/what-happens-to-a-python-object-when-you-throw-an-exception-from-it/1475198#1475198">Mark Rushakoff's answer below</a>. An assert(False) [that I subsequently catch] from within the exception handler seems to force the socket closed.</p><pre><code>import socketclass MyException(Exception):    passclass MyClient(object):    def __init__(self, port):        self.sock = socket.create_connection(('localhost', port))        self.sockfile = self.sock.makefile()    def do_stuff(self):        self._send("do_stuff\n")        response = self._receive()        if response != "ok\n":            raise MyException()        return response    def _send(self, cmd):        self.sockfile.write(cmd)        self.sockfile.flush()    def _receive(self):        return self.sockfile.readline()def connect():    c = MyClient(9989)    # On the second iteration, do_stuff() tries to send data and    # hangs indefinitely.    print c.do_stuff()if __name__ == '__main__':    for _ in xrange(3):        try:            connect()        except MyException, e:            print 'Caught:', e            # This would be the workaround if I had access to the            # MyClient object:            #c.sock.close()            #c.sockfile.close()</code></pre><p>EDIT: Here's the (ugly) server code:</p><pre><code>import sockets = socket.socket(socket.AF_INET, socket.SOCK_STREAM, 0)s.bind(('localhost', 9989))s.listen(5)(c,a) = s.accept()f = c.makefile()print f.readline()f.write('error\n')f.flush()(c2,a) = s.accept()f = c.makefile()print f.readline()s.close()</code></pre>]]>
</body>
−
<title>
what happens to a python object when you throw an exception from it
</title>
<lastedit>1253847640</lastedit>
<acceptedanswer>1475198</acceptedanswer>
−
<tags>
<tag id="0">python</tag>
<tag id="1">exception</tag>
<tag id="2">garbage-collection</tag>
<tag id="3">sockets</tag>
</tags>
</question>
−
<question id="1203295">
<ownerid>67022</ownerid>
<creationdate>1248904529</creationdate>
<lastactivity>1248923601</lastactivity>
−
<body>
<![CDATA[<p>I'm trying to provide integration to my django application from subversion through the post commit hook.</p><p>I have a django test case (a subclass of unittest.TestCase) that (a) inserts a couple of records into a table, (b) spawns an svn commit, (c) svn commit runs a hook that uses my django model to look up info.</p><p>I'm using an sqlite3 db. The test is <em>not</em> using the :memory: db, it is using a real file. I have modified the django test code (for debugging this issue) to avoid deleting the test db when it is finished so I can inspect it.</p><p>The test code dumps model.MyModel.objects.all() and the records are there between (a) and (b).</p><p>When the hook fires at (c) it also dumps the model and there are no records. When I inspect the db manually after the test runs, there are no records.</p><p>Is there something going on in the django test framework that isn't commiting the records to the db file?</p><p><strong>To clarify</strong>: (d) end the test case. Thus the svn commit hook is run before the test case terminates, and before any django db cleanup code <em>should</em> be run.</p><p><strong>Extra info</strong>: I added a 15 second delay between (b) and (b) so that I could examine the db file manually in the middle of the test. The records aren't in the file.</p>]]>
</body>
<title>can't see records inserted by django test case</title>
<lastedit>1248923601</lastedit>
<acceptedanswer>1203379</acceptedanswer>
−
<tags>
<tag id="0">python</tag>
<tag id="1">django</tag>
<tag id="2">testing</tag>
<tag id="3">sqlite</tag>
</tags>
</question>
−
<question id="1201094">
<ownerid>67022</ownerid>
<creationdate>1248881152</creationdate>
<lastactivity>1248882295</lastactivity>
−
<body>
<![CDATA[<p>If I derive a class from ctypes.BigEndianStructure, pylint warns if I don't call BigEndianStructure.<strong>init</strong> (). Great, but if I fix my code, pylint still warns:</p><pre><code>import ctypesclass Foo(ctypes.BigEndianStructure):    def __init__(self):        ctypes.BigEndianStructure.__init__(self)$ pylint mymodule.pyC:  1: Missing docstringC:  3:Foo: Missing docstringW:  4:Foo.__init__: __init__ method from base class 'Structure' is not calledW:  4:Foo.__init__: __init__ method from base class 'BigEndianStructure' is not calledR:  3:Foo: Too few public methods (0/2)</code></pre><p>At first I thought this was because Structure comes from a C module. I don't get the warning if I subclass from one of my classes or, say, SocketServer.BaseServer which is pure python. But I also don't get the warning if I subclass from smbus.SMBus, which is in a C module.</p><p>Anyone know of a workaround other than disabling W0231?</p>]]>
</body>
<title>pylint false positive for superclass __init__</title>
<lastedit>-1</lastedit>
<acceptedanswer>1201213</acceptedanswer>
−
<tags>
<tag id="0">python</tag>
<tag id="1">pylint</tag>
</tags>
</question>
−
<question id="647257">
<ownerid>67022</ownerid>
<creationdate>1237088793</creationdate>
<lastactivity>1248854232</lastactivity>
−
<body>
<![CDATA[<p>I am new to Satchmo -- picked it up because I needed payment processing for site subscriptions and physical product.</p><p>My site will have two classes of users: paid subscribers and free users. Both can order a physical product. Paid subscribers get an automatic discount on all orders.</p><p>I don't see a configuration for this in the admin. (Discount looks like it would apply to all users. If I'm missing something here, let me know.)</p><p>So what's the best place to automatically override the price depending on the user class? The displayed price should show up, say, 10% less for subscribers everywhere in the site, not just at the checkout.</p><p>Thanks.</p>]]>
</body>
−
<title>
Provide discount to preferred customer with Satchmo?
</title>
<lastedit>-1</lastedit>
<acceptedanswer>1198670</acceptedanswer>
−
<tags>
<tag id="0">python</tag>
<tag id="1">django</tag>
<tag id="2">satchmo</tag>
</tags>
</question>
−
<question id="4045914">
<ownerid>430719</ownerid>
<creationdate>1288289671</creationdate>
<lastactivity>1288297530</lastactivity>
−
<body>
<![CDATA[<p>For my work, I sometimes have to deal with logfiles from a binary protocol (the logfiles contain hexdumps of the messages). I want to write a Perl script that can interpret the binary data for me and print the contents in a more friendly format.</p><p>I have a (machine readable) description of the protocol messages in a proprietary format and I have (mostly) figured out how to parse that format (the parts I can"t fully understand are not related to my goal, so I can just ignore them), so I can convert the description into a data structure for use in my script.</p><p>Because the protocol description only rarely changes, it seems a waste to re-parse the protocol description each time I want to analyse a logfile, but on the other hand, if the description does change or if I accidentally throw away my pre-parsed form of the description, then I would like my script to automatically trigger a re-parsing of the description.<br>What is the best way to realise this?</p>]]>
</body>
−
<title>
Using a pre-parsed protocol definition in a script and keeping it up-to-date
</title>
<lastedit>-1</lastedit>
<acceptedanswer>4046891</acceptedanswer>
−
<tags>
<tag id="0">perl</tag>
<tag id="1">perl-data-structures</tag>
<tag id="2">intermediate-code</tag>
</tags>
</question>
</questions>