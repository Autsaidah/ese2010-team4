#{extends 'profileMain.html' /}
#{set title:'My follows' /}


<div class="follows"> 
following this questions:
	#{list items:followQ, as:'question'}
            <div class="answer">
                <div class="question-content">
        			<a href="@{Application.show(question.id)}">${question.content.raw()}</a>
        		</div>
        		<div>
        			#{form @Users.unfollowQuestion(question.id)}
						<input type="submit" value="Unfollow"/>
					#{/form}
        		</div> 

            </div>
	#{/list}
</div>


<div class="follows"> 
	following this users:
		#{list items:followU, as:'user'}
        	<div class="answer">
                <div class="question-metadata">
                    <div class="question-content">
        				<a href="@{Users.showProfile(user.id)}">${user.fullname}</a>
        				<div>
        					#{form @Users.unfollowUser(user.id)}
								<input type="submit" value="Unfollow"/>
							#{/form}
						</div>
        			</div>
                 </div>
            </div>
		#{/list}
	
	<h3>Activities:</h3>
	#{list items:activities, as:'activity'}
		<div class="activity">
		#{if activity.isQuestion()}
			A new question was asked <a class="button" href = "@{Application.show(activity.id)}">${activity.getTitle()}</a> (${activity.timestamp}).
		#{/if}
		#{if activity.isAnswer()}
			A new answer was added to a <a class="button" href = "@{Application.show(activity.findQuestion().id)}">question</a> (${activity.timestamp}).
		#{/if}
		#{if activity.isCommentAnswer()}
			A new comment was added to a answer from the <a class="button" href = "@{Application.show(activity.post.findQuestion().id)}">question</a> ${activity.post.findQuestion().title}  (${activity.timestamp}).
		#{/if}
		#{if activity.isCommentQuestion()}
			A new comment was added to the <a class="button" href = "@{Application.show(activity.post.id)}">question</a> ${activity.post.title} (${activity.timestamp}).
		#{/if}
		</div>
	#{/list}
</div>

